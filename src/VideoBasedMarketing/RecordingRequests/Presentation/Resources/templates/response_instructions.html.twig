{% extends '@shared/base_minimal.html.twig' %}

{# @var TwigHelperService \App\Shared\Presentation\Service\TwigHelperService #}

{% trans_default_domain 'videobasedmarketing.recording_requests' %}

{% block body %}

    <div class="bg-white h-full w-full p-8">

        <div class="flex flex-row justify-end">
            <a
                    href="{{ path('shared.presentation.contentpages.homepage') }}"
                    target="_blank"
                    class="
                        flex flex-row gap-2 justify-end items-end
                        p-2 pr-4 pl-4 rounded-md opacity-20
                        w-fit
                        hover:opacity-100
                        bg-neutral-500 text-neutral-300 font-light
                    "
            >
                <span>powered by Fyyn.io</span>
                <img
                        class="h-6"
                        src="{{ asset('assets/images/shared/logos/fyyn-logo-head-only-240x241.png') }}"
                        alt="Fyyn.io"
                >
            </a>
        </div>


        <div class="flex flex-col w-full md:max-w-2xl mx-auto mt-16">

            <h1 class="text-3xl">
                {{ 'response_instructions.greeting'|trans }}
            </h1>

            <p class="text-xl mt-8 font-extralight">
                {{ 'response_instructions.text1'|trans({'userIdentifier': recordingRequest.user.userIdentifier}) }}
            </p>

            {% if needToCreateResponse %}
                <form method="post">
                    <button
                            class="cta-with-icon-success mt-8"
                            type="submit"
                    >
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-6 h-6">
                            <path fill-rule="evenodd" d="M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12zm14.024-.983a1.125 1.125 0 010 1.966l-5.603 3.113A1.125 1.125 0 019 15.113V8.887c0-.857.921-1.4 1.671-.983l5.603 3.113z" clip-rule="evenodd" />
                        </svg>
                        {{ 'response_instructions.start_cta'|trans }}
                    </button>
                </form>

            {% else %}
                <p class="text-xl mt-8">
                    {{ 'response_instructions.text2'|trans }}
                </p>

                <ol class="mt-8">
                    <li>
                        <p>
                            {{ 'response_instructions.step1'|trans }}
                        </p>
                        <a
                                class="
                                    flex flex-row justify-start items-center
                                    text-mercurius-blue-600 hover:text-mercurius-blue-900 block
                                    w-fit
                                "
                                href="{{ asset(
                                    'assets/browser-extension-chrome/mercurius-browser-extension-chrome.'
                                    ~ app.environment
                                    ~ '.latest.zip'
                                ) }}"
                        >
                            <div
                                    class="
                                        flex flex-row justify-start
                                        mt-4 p-4
                                        bg-mercurius-blue-50 hover:bg-mercurius-blue-100
                                        rounded-md w-fit
                                    "
                            >
                                <div class="break-words w-24 text-sm">
                                    {{ 'response_instructions.extension_download_name'|trans }}
                                </div>
                                <div>
                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-7 h-7">
                                        <path d="M12 1.5a.75.75 0 01.75.75V7.5h-1.5V2.25A.75.75 0 0112 1.5zM11.25 7.5v5.69l-1.72-1.72a.75.75 0 00-1.06 1.06l3 3a.75.75 0 001.06 0l3-3a.75.75 0 10-1.06-1.06l-1.72 1.72V7.5h3.75a3 3 0 013 3v9a3 3 0 01-3 3h-9a3 3 0 01-3-3v-9a3 3 0 013-3h3.75z" />
                                    </svg>
                                </div>
                            </div>
                        </a>
                    </li>

                    <li class="mt-8">
                        {{ 'response_instructions.step2'|trans }}
                        <span
                                class="font-mono bg-neutral-100 p-1 rounded-sm"
                        >
                            chrome://extensions/
                        </span>
                    </li>

                    <li class="mt-8">
                        {{ 'response_instructions.step3'|trans }}
                    </li>
                </ol>

            {% endif %}

        </div>

    </div>

{% endblock %}
