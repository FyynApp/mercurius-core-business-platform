{# @var TwigHelperService \App\Shared\Presentation\Service\TwigHelperService #}

{% macro interactive(video) %}

    {# @var video \App\VideoBasedMarketing\Recordings\Domain\Entity\Video #}

    <div
            class="p-0 m-0"

            {{ stimulus_controller('videoBasedMarketing-recordings-videoPreview') }}

            data-action="
                            focus->videoBasedMarketing-recordings-videoPreview#showAnimated
                            click->videoBasedMarketing-recordings-videoPreview#showAnimated
                            mouseover->videoBasedMarketing-recordings-videoPreview#showAnimated
                            mouseout->videoBasedMarketing-recordings-videoPreview#showStill
                            blur->videoBasedMarketing-recordings-videoPreview#showStill
                        "
    >
        <div
                {{ stimulus_target('videoBasedMarketing-recordings-videoPreview', 'stillImage') }}
                class="bg-cover bg-center w-full rounded-tl-lg rounded-tr-lg"
                style="
                        background-image: url('{{ TwigHelperService.recordingsInfrastructureService.videoPosterStillAssetUrl(video) }}');

                        aspect-ratio: {{ video.assetFullMp4Width }} / {{ video.assetFullMp4Height }};
               "
        ></div>

        <div
                {{ stimulus_target('videoBasedMarketing-recordings-videoPreview', 'animatedImage') }}
                class="hidden bg-cover bg-center w-full rounded-tl-lg rounded-tr-lg"
                style="
                        background-image: url('{{ TwigHelperService.recordingsInfrastructureService.videoPosterAnimatedAssetUrl(video) }}');

                        aspect-ratio: {{ video.assetFullMp4Width }} / {{ video.assetFullMp4Height }};
                "
        ></div>
    </div>

{% endmacro %}
