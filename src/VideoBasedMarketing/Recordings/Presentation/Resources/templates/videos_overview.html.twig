{% extends '@shared/base.html.twig' %}

{# @var TwigHelperService \App\Shared\Presentation\Service\TwigHelperService #}

{% block title %}{{ 'mainnav.recordings'|trans }}{% endblock %}
{% block contentTitle %}{{ 'mainnav.recordings'|trans }}{% endblock %}

{% block stylesheets %}
{% endblock %}

{% block body %}

    {% embed '@shared/embeds/default_content_box.html.twig' %}

        {% trans_default_domain 'videobasedmarketing.recordings' %}

        {% block contentBoxTitle %}
            {{ 'videos_overview.title'|trans({ numberOfRecordingSessions: TwigHelperService.videoDomainService.availableVideos(app.user)|length}) }}
        {% endblock %}

        {% block contentBoxSubtitle %}
            {{ 'videos_overview.subtitle'|trans }}
        {% endblock %}

        {% block contentBoxContent %}

            <div class="grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-4 2xl:grid-cols-5 gap-8 w-full pb-12">

                <div
                        class="
                            flex flex-col rounded-lg p-0 bg-indigo-50
                            hover:bg-indigo-200 hover:font-bold
                        "
                >
                    <a
                            href="{{ path('videobasedmarketing.recordings.presentation.recording_studio') }}"
                            class="flex flex-col p-8 justify-center w-full h-full text-indigo-900 text-center"
                    >
                        {# Heroicon: video-camera solid #}
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-10 h-10 mx-auto">
                            <path d="M4.5 4.5a3 3 0 00-3 3v9a3 3 0 003 3h8.25a3 3 0 003-3v-9a3 3 0 00-3-3H4.5zM19.94 18.75l-2.69-2.69V7.94l2.69-2.69c.944-.945 2.56-.276 2.56 1.06v11.38c0 1.336-1.616 2.005-2.56 1.06z" />
                        </svg>
                        <span class="mt-2 text-sm">
                                Neue Aufnahme starten
                            </span>
                    </a>
                </div>

                {% for video in TwigHelperService.videoDomainService.availableVideos(app.user) %}
                    {# @var video \App\VideoBasedMarketing\Recordings\Domain\Entity\Video #}

                    {{ component('videobasedmarketing_recordings_video_manage_widget', {
                        video: video,
                        showEditModal: showEditModalForVideoId is same as video.id,
                        doneCtaMustRedirectToOverview: showEditModalForVideoId is same as video.id,
                    }) }}
                {% endfor %}

            </div>

        {% endblock %}
    {% endembed %}

{% endblock %}
