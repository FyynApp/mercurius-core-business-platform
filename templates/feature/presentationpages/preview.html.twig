{# @var presentationpage \App\Entity\Feature\Presentationpages\presentationpage #}
{# @var VideoService \App\Service\Feature\Recordings\VideoService #}

<!DOCTYPE html>
<html class="h-full" lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Fyyn</title>

    {{ encore_entry_link_tags('app') }}
    {{ encore_entry_link_tags('tailwind') }}

    {{ encore_entry_script_tags('app') }}
</head>
<body
    {% if presentationpage.background is same as constant('\\App\\Entity\\Feature\\Presentationpages\\PresentationpageBackground::BgColor') %}
        style="
                background-color: {{ presentationpage.bgColor.value }};
        "
    {% else %}
        style="
                background-image: url('{{ asset('assets/images/feature/presentationpages/background-images/' ~ presentationpage.background.toAssetName) }}');
                background-repeat: no-repeat;
                background-size: cover;
                background-color: {{ presentationpage.bgColor.value }};
        "
    {% endif %}
>


<div
        class=""
>

    <div
        class="mx-auto max-w-full w-full sm:w-8/12 mt-0 sm:mt-16 p-16"
        style="
            background-color: {{ presentationpage.bgColor.value }}DD;
            color: {{ presentationpage.textColor.value }};
        "
    >

        {% for element in presentationpage.presentationpageElements %}

            {% if element.elementVariant is same as constant('\\App\\Entity\\Feature\\Presentationpages\\PresentationpageElementVariant::MercuriusVideo') %}

                {% if presentationpage.video is null %}
                    <div class="mx-auto mt-8 w-96 max-w-full">
                        <img
                                class="rounded-lg"
                                src="{{ asset('assets/images/feature/presentationpages/video-placeholder-768x432.png') }}"
                        >
                    </div>

                {% else %}
                    <div class="m-8 p-8">
                        <video
                                class="mx-auto rounded-md w-full"
                                autoplay="autoplay"
                                controls
                                poster="{{ VideoService.posterStillAssetUrl(presentationpage.video) }}"
                        >
                            <source
                                    src="{{ VideoService.getFullAssetUrl(presentationpage.video) }}"
                            >
                        </video>
                    </div>
                {% endif %}

            {% endif %}

            {% if element.elementVariant is same as constant('\\App\\Entity\\Feature\\Presentationpages\\PresentationpageElementVariant::Headline') %}
                <h2 class="text-xl font-bold mt-8 first:mt-0">
                    {{ element.textContent }}
                </h2>
            {% endif %}

            {% if element.elementVariant is same as constant('\\App\\Entity\\Feature\\Presentationpages\\PresentationpageElementVariant::Paragraph') %}
                <p class="text-md">
                    {{ element.textContent|nl2br }}
                </p>
            {% endif %}

            {% if element.elementVariant is same as constant('\\App\\Entity\\Feature\\Presentationpages\\PresentationpageElementVariant::ImageUrl') %}
                <div class="mt-8 mb-8 p-0 mx-auto w-36 max-w-full">
                    <img
                            class="rounded-md"
                            src="{{ element.textContent }}"
                    >
                </div>
            {% endif %}

            {% if element.elementVariant is same as constant('\\App\\Entity\\Feature\\Presentationpages\\PresentationpageElementVariant::CalendlyEmbed') %}
                <div class="mt-8 mb-8 p-0">
                    <!-- Calendly Inline-Widget Beginn -->
                    <div
                            class="calendly-inline-widget w-full"
                            data-url="{{ element.textContent|trim }}"
                            style="height: 900px;"
                    ></div>
                    <script type="text/javascript" src="https://assets.calendly.com/assets/external/widget.js" async></script>
                    <!-- Calendly Inline-Widget Ende -->
                </div>
            {% endif %}

        {% endfor %}

    </div>
</div>

</body>
</html>
